/*  éšæœºäº§ç”Ÿnä¸ªå€¼åœ¨[10,50]ä¹‹å†…çš„æ•°ç»„å…ƒç´ ï¼Œä»é”®ç›˜è¾“å…¥å¾ªç¯å·¦ç§»çš„ä½æ•°ï¼Œå®ç°æ•°ç»„å…ƒç´ å¾ªç¯å·¦ç§»mä½ï¼›
åœ¨å¾ªç¯å·¦ç§»çš„ç»“æœåŸºç¡€ä¸Šï¼Œå†è¾“å…¥å¾ªç¯å³ç§»çš„ä½æ•°å¹¶å®ç°å¾ªç¯å³ç§»ï¼Œ

 ã€è¾“å‡ºã€‘
 è¯·è¾“å…¥æ•°ç»„çš„å®é™…é•¿åº¦ï¼š10
 éšæœºäº§ç”Ÿçš„10ä¸ªæ•°ç»„å…ƒç´ ä¸ºï¼š41 45 20 23 25 41 38 18 10 12
 è¯·è¾“å…¥å¾ªç¯å·¦ç§»çš„ä½æ•°ï¼š3
 å¾ªç¯å·¦ç§»çš„ç»“æœä¸ºï¼š23 25 41 38 18 10 12  41 45 20
 è¯·è¾“å…¥å¾ªç¯å³ç§»çš„ä½æ•°ï¼š4
 å¾ªç¯å³ç§»çš„ç»“æœä¸ºï¼š12  41 45 20  23 25 41 38 18 10
*/
#include<iostream>
#include <iomanip>
#include <ctime>
using namespace std;

void InitArry(int* p, int n);              //åˆå§‹åŒ–æ•°ç»„
void cir_LeftMove(int* p, int n, int m);    //å¾ªç¯å·¦ç§»mä½
void cir_RightMove(int* p, int n, int m);    //å¾ªç¯å³ç§»mä½
void OutArry(int* p, int n);               //è¾“å‡ºæ•°ç»„å…ƒç´ 
int main() {
    const int N = 20;
    int a[N], n, m;
    cout << "è¯·è¾“å…¥æ•°ç»„çš„å®é™…é•¿åº¦ï¼š";
    cin >> n;
    cout << "éšæœºäº§ç”Ÿçš„" << n << "ä¸ªæ•°ç»„å…ƒç´ ä¸ºï¼š";
    InitArry(a, n);           //è°ƒç”¨å‡½æ•°ï¼Œåˆå§‹åŒ–æ•°ç»„ï¼Œäº§ç”Ÿéšæœºæ•°å…ƒç´ 
    OutArry(a, n);           //è°ƒç”¨å‡½æ•°ï¼Œè¾“å‡ºæ•°ç»„
    cout << "è¯·è¾“å…¥å¾ªç¯å·¦ç§»çš„ä½æ•°ï¼š";
    cin >> m;
    cir_LeftMove(a, n, m);   //è°ƒç”¨å‡½æ•°ï¼Œå¾ªç¯å·¦ç§»mä½
    cout << "å¾ªç¯å·¦ç§»çš„ç»“æœä¸ºï¼š";
    OutArry(a, n);          //è°ƒç”¨å‡½æ•°ï¼Œè¾“å‡ºç§»åŠ¨åçš„ç»“æœ
    cout << "è¯·è¾“å…¥å¾ªç¯å³ç§»çš„ä½æ•°ï¼š";
    cin >> m;
    cir_RightMove(a, n, m);   //è°ƒç”¨å‡½æ•°ï¼Œå¾ªç¯å³ç§»mä½
    cout << "å¾ªç¯å³ç§»çš„ç»“æœä¸ºï¼š";
    OutArry(a, n);          //è°ƒç”¨å‡½æ•°ï¼Œè¾“å‡ºç§»åŠ¨åçš„ç»“æœ
    return 0;
}

void InitArry(int* p, int n) {
    int i;
    srand(time(NULL));
    for (i = 0;i < n;i++)
        p[i] = 10 + rand() % (50 - 10 + 1);
}
void cir_LeftMove(int* p, int n, int m) {
    int i, t;
    /*************Program************/
    // å› ä¸ºå¾ªç¯ç§»åŠ¨æ•°ç»„å…ƒç´ åœ¨å‰é¢å®éªŒæŠ¥å‘Šå®Œæˆè¿‡ï¼Œæ‰€ä»¥æœ¬é¢˜é‡‡ç”¨æ–°çš„å†™æ³•
    // äº‹å…ˆè¯´æ˜ï¼Œä¸èƒ½è‡ªå®šä¹‰å˜é‡å’Œå‡½æ•°ã€å¼•å…¥å¤´æ–‡ä»¶ï¼Œç”¨è¿™ç§åŠæ³•å†™èµ·æ¥å®åœ¨è¿‡äºæŠ˜ç£¨ï¼Œæœ¬é¢˜ä»…ä¸ºæ•´æ´»ğŸ˜‹
    // æœ¬é¢˜çš„ç®—æ³•ä¸ºè½®è½¬æ•°ç»„ä¸­çš„ç¿»è½¬æ•°ç»„ï¼Œæ„Ÿå…´è¶£çš„è¯å¯ä»¥çœ‹çœ‹ï¼šhttps://leetcode.cn/problems/rotate-array/description/
    for (i = 0; i < (m % n) / 2; i++) {
        t = p[m % n - 1 - i];
        p[m % n - 1 - i] = p[i];
        p[i] = t;
    }

    for (i = m % n; i < (n + m % n) / 2; i++) {
        t = p[n - 1 - i + m % n];
        p[n - 1 - i + m % n] = p[i];
        p[i] = t;
    }

    for (i = 0; i < n / 2; i++) {
        t = p[n - 1 - i];
        p[n - 1 - i] = p[i];
        p[i] = t;
    }
    /*************End************/
}
void cir_RightMove(int* p, int n, int m) {
    int* q, t;
    /*************Program************/
    // æˆ‘ä¸çŸ¥é“ *q æ˜¯ç”¨æ¥åšä»€ä¹ˆçš„ï¼Œä½†è¿˜æ˜¯ç”¨ä¸Šå§ã€‚å¦å¤–ï¼Œå®åœ¨æ²¡å˜é‡å¯ç”¨äº†ï¼ˆæŠ›å¼€æ•°ç»„å†…æ²¡ä½¿ç”¨çš„éƒ¨åˆ†ï¼‰ï¼Œå°±ç”¨äº† swap ã€‚
    t = m % n;
    q = &m;
    for (*q = 0; *q < n / 2; (*q)++)
        swap(p[n - 1 - *q], p[*q]);

    for (*q = 0; *q < t / 2; (*q)++)
        swap(p[t - 1 - *q], p[*q]);

    for (*q = t; *q < (n + t) / 2; (*q)++)
        swap(p[n - 1 - *q + t], p[*q]);
    /*************End************/
}
void OutArry(int* p, int n) {
    int i;
    for (i = 0;i < n;i++)
        cout << setw(4) << p[i];
    cout << endl;
}